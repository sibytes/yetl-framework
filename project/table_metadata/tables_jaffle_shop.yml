apiVersion: "yetl-framework.io/en/1/datastore"
databases:
  - database: "jaffle_shop"
    database_engine: "sql_server"
    compatibility: "azure"
    schema: ["jaffle_shop", "stipe"]
    tables:
      - schema: "jaffle_shop"
        table: "customers"
        description: ""
        columns:
          - column: "id"
            type: "int"
            nullable: false
            description: ""
            ordinal: 1
          - column: "first_name"
            type: "varchar(50)"
            nullable: false
            description: ""
            ordinal: 2
          - column: "last_name"
            type: "varchar(50)"
            nullable: false
            description: ""
            ordinal: 3
        unique_identifier: ["id"]
        hashes:
          - name: "SCD2"
            columns: ["surname", "firstname"]
            function: "sha256"

      - schema: "jaffle_shop"
        table: "orders"
        description: ""
        columns:
          - column: "id"
            type: "int"
            nullable: false
            description: ""
            ordinal: 1
          - column: "user_id"
            type: "int"
            nullable: false
            description: ""
            ordinal: 2
          - column: "order_date"
            type: "date"
            nullable: false
            description: ""
            ordinal: 3
          - column: "status"
            type: "varchar(50)"
            nullable: false
            description: ""
            ordinal: 4
          - column: "_etl_loaded_at"
            type: "datetime"
            nullable: false
            description: ""
            ordinal: 5

        unique_identifier: ["id"]
        hashes: []

      - schema: "stripe"
        table: "payment"
        description: ""
        columns:
          - column: "id"
            type: "int"
            nullable: false
            description: ""
            ordinal: 1
          - column: "orderid"
            type: "int"
            nullable: false
            description: ""
            ordinal: 2
          - column: "paymentmethod"
            type: "varchar(50)"
            nullable: false
            description: ""
            ordinal: 3
          - column: "status"
            type: "varchar(50)"
            nullable: false
            description: ""
            ordinal: 4
          - column: "amount"
            type: "int"
            nullable: false
            description: ""
            ordinal: 5
          - column: "created"
            type: "datetime"
            nullable: false
            description: ""
            ordinal: 6
          - column: "_batched_at"
            type: "datetime"
            nullable: false
            description: ""
            ordinal: 7

        unique_identifier: ["id"]
        hashes: []